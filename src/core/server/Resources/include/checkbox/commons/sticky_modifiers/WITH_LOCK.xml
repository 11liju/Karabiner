<?xml version="1.0"?>
<root>
  <!-- when modifier is locked. -->
  <autogen>
    __KeyOverlaidModifier__
    KeyCode::{{ MODIFIER }}, ModifierFlag::SL2_{{ MODIFIER }},

    @begin
    KeyCode::{{ MODIFIER }},
    @end

    @begin
    <!-- cancel modifier -->
    KeyCode::VK_STICKY_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_STICKY_SL1_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_STICKY_SL2_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_SL1_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_SL2_{{ MODIFIER }}_FORCE_OFF,
    @end
  </autogen>

  <!-- when modifier is pressed twice. -->
  <autogen>
    __KeyOverlaidModifier__
    KeyCode::{{ MODIFIER }}, ModifierFlag::SL1_{{ MODIFIER }},

    @begin
    KeyCode::{{ MODIFIER }},
    @end

    @begin
    KeyCode::VK_STICKY_ACTIVE_MODIFIERS_FORCE_ON,
    <!-- cancel modifiers -->
    KeyCode::VK_STICKY_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_STICKY_SL1_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_STICKY_SL2_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_SL1_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_SL2_{{ MODIFIER }}_FORCE_OFF,
    <!-- lock modifier -->
    KeyCode::VK_LOCK_{{ MODIFIER }}_FORCE_ON,
    KeyCode::VK_LOCK_SL2_{{ MODIFIER }}_FORCE_ON,
    @end
  </autogen>

  <autogen>
    __KeyOverlaidModifier__
    KeyCode::{{ MODIFIER }},

    @begin
    KeyCode::{{ MODIFIER }},
    @end

    @begin
    KeyCode::VK_STICKY_ACTIVE_MODIFIERS_FORCE_ON,
    <!-- cancel modifiers -->
    KeyCode::VK_STICKY_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_STICKY_SL1_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_STICKY_SL2_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_SL1_{{ MODIFIER }}_FORCE_OFF,
    KeyCode::VK_LOCK_SL2_{{ MODIFIER }}_FORCE_OFF,
    <!-- sticky modifier -->
    KeyCode::VK_STICKY_{{ MODIFIER }}_FORCE_ON,
    KeyCode::VK_STICKY_SL1_{{ MODIFIER }}_FORCE_ON,
    @end
  </autogen>
</root>
